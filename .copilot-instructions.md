# Copilot Instructions for OneApp2 Jira Project

## Jira Custom Field Mappings

Based on the Jira changelog analysis, the following custom field mappings are used in this project:

- `customfield_10331` = **Story Points** (labeled as "Story point estimate" in Jira)
- `customfield_10127` = **Sprint Field** (used for sprint assignments and history)

## Sprint History and Carryover Logic

- Sprint history is extracted from `customfield_10127` changelog entries
- Tasks are classified as "carryover" if their first sprint (oldest in sprintHistory) is different from the current sprint
- The carryover classification logic: `firstSprint !== currentSprintId`

## API Structure

- Use JQL query `sprint = ${sprintId}` to fetch tasks for a specific sprint
- Always include `expand=changelog` to get sprint history from changelog
- Story points metrics should always reference `customfield_10331`

## Key Components

- **Edge/Netlify Functions**: Handle Jira API calls and data transformation
- **Middleware**: Adds carryover classification (`firstSprint`, `isCarryover` fields)
- **Dashboard**: Displays tasks separated by new vs carryover classification